@{
    ViewBag.Title = "SAS";
}

<style>
    #map {
        width: 580px;
        height: 620px;
        box-shadow: 5px 5px 5px #888;
    }

    .info {
    padding: 6px 8px;
    font: 14px/16px Arial, Helvetica, sans-serif;
    background: white;
    background: rgba(255,255,255,0.8);
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    border-radius: 5px;
}
.info h4 {
    margin: 0 0 5px;
    color: #777;
}
</style>

@*<div style="width:100%;">
    <img class="img-responsive" src="~/Content/Images/logosas.jpeg"/>
</div>*@

<div id='map'>
</div>


<script>
    debugger;
    var map = L.map('map', {
        renderer: L.svg()
    }).setView(
    [29.3482097,-106.4998741],6.7);

  L.control.scale().addTo(map);

  //L.marker([29.3482097, -106.4998741], { draggable: true }).addTo(map);

  var geojson;
  geojson = L.geoJson(municipios, { style: style }).addTo(map);

  function style(feature) {
      return {
          weight: 1,
          opacity: 1,
          color: 'black',
          dashArray: '2',
          fillOpacity: 1,
          fillColor: '#1A6382'
      };
  };

  function highlightFeature(e) {
      var layer = e.target;

      layer.setStyle({
          weight: 2,
          color: '#666',
          dashArray: '',
          fillOpacity: 0.7
      });

      if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
          layer.bringToFront();
      }

      if (layer.feature.properties && layer.feature.properties.NOMGEO) {
          var popupContent = "<p>Municipio: " + layer.feature.properties.NOMGEO + "</p>";
          layer.bindPopup(popupContent);
      };

      info.update(layer.feature.properties);
  }

  function resetHighlight(e) {
      geojson.resetStyle(e.target);
      info.update();
  }

  function onEachFeature(feature, layer) {

      layer.on({
          mouseover: highlightFeature,
          mouseout: resetHighlight,
      });
  }

  var info = L.control();

  info.onAdd = function (map) {
      this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
      this.update();
      return this._div;
  };

  info.update = function (props) {
      this._div.innerHTML = '<h4>Municipio</h4>' + (props ?
          '<b>' + props.NOMGEO + '</b>'
          : '');
  };

  info.addTo(map);

  L.geoJson(municipios, {
      style: style,
      onEachFeature: onEachFeature
  }).addTo(map);


</script>
